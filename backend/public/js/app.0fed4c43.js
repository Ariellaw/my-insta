(function(e){function t(t){for(var i,o,r=t[0],l=t[1],c=t[2],d=0,m=[];d<r.length;d++)o=r[d],a[o]&&m.push(a[o][0]),a[o]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(e[i]=l[i]);u&&u(t);while(m.length)m.shift()();return n.push.apply(n,c||[]),s()}function s(){for(var e,t=0;t<n.length;t++){for(var s=n[t],i=!0,o=1;o<s.length;o++){var l=s[o];0!==a[l]&&(i=!1)}i&&(n.splice(t--,1),e=r(r.s=s[0]))}return e}var i={},a={app:0},n=[];function o(e){return r.p+"js/"+({about:"about"}[e]||e)+"."+{about:"df3c395b"}[e]+".js"}function r(t){if(i[t])return i[t].exports;var s=i[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.e=function(e){var t=[],s=a[e];if(0!==s)if(s)t.push(s[2]);else{var i=new Promise(function(t,i){s=a[e]=[t,i]});t.push(s[2]=i);var n,l=document.createElement("script");l.charset="utf-8",l.timeout=120,r.nc&&l.setAttribute("nonce",r.nc),l.src=o(e),n=function(t){l.onerror=l.onload=null,clearTimeout(c);var s=a[e];if(0!==s){if(s){var i=t&&("load"===t.type?"missing":t.type),n=t&&t.target&&t.target.src,o=new Error("Loading chunk "+e+" failed.\n("+i+": "+n+")");o.type=i,o.request=n,s[1](o)}a[e]=void 0}};var c=setTimeout(function(){n({type:"timeout",target:l})},12e4);l.onerror=l.onload=n,document.head.appendChild(l)}return Promise.all(t)},r.m=e,r.c=i,r.d=function(e,t,s){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(s,i,function(t){return e[t]}.bind(null,i));return s},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/",r.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],c=l.push.bind(l);l.push=t,l=l.slice();for(var d=0;d<l.length;d++)t(l[d]);var u=c;n.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d7")},"04a8":function(e,t,s){},"08bc":function(e,t,s){},1:function(e,t){},"102d":function(e,t,s){},"1c45":function(e,t,s){"use strict";var i=s("512d"),a=s.n(i);a.a},"1f20":function(e,t,s){"use strict";var i=s("e1fb"),a=s.n(i);a.a},"3b03":function(e,t,s){},4678:function(e,t,s){var i={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function a(e){var t=n(e);return s(t)}function n(e){var t=i[e];if(!(t+1)){var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}return t}a.keys=function(){return Object.keys(i)},a.resolve=n,e.exports=a,a.id="4678"},"512d":function(e,t,s){},"56d7":function(e,t,s){"use strict";s.r(t);s("cadf"),s("551c"),s("f751"),s("097d");var i=s("2b0e"),a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{class:{darkScreen:e.optionsModual}},[s("nav-bar",{on:{close:function(t){e.close()},addnewimage:e.addnewimage,displayOptions:e.displayOptions}}),e.optionsModual?e._e():s("router-view"),e.optionsModual?s("user-options",{on:{close:function(t){e.optionsModual=!1}}}):e._e(),e.newImageModual&&e.image.file?s("upload-post",{attrs:{image:e.image.file},on:{close:function(t){e.close()}}}):e._e(),s("footer-nav",{on:{addnewimage:e.addnewimage}})],1)},n=[],o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("nav",{staticClass:"main-nav-bar"},[e.cellphoneDisplay&&e.navbarTitle?s("div",{staticClass:"cellphone-navbar-container"},[s("div",{staticClass:"cellphone-navbar",on:{click:function(t){e.goBackToLastWindow()}}},[s("i",{staticClass:"fas fa-arrow-left btn"}),s("h3",{staticClass:"navbar-title"},[e._v(e._s(e.navbarTitle))])]),e.loggedInUser&&"user-profile"===e.$route.name&&null===this.$route.params.image?s("i",{staticClass:"fas fa-cog btn",on:{click:function(t){e.$emit("displayOptions")}}}):e._e()]):s("div",{staticClass:"nav-buttons-container page-container",class:{center:!e.loggedInUser,spaceBetween:e.loggedInUser}},[s("div",{staticClass:"instagram-logo btn",on:{click:e.goToFeed}},[s("i",{staticClass:"fab fa-instagram btn"}),s("span",{staticClass:"ariella-logo"},[e._v(" |  AriellaGram")])]),e.loggedInUser?s("ul",[s("li",{staticClass:"dropdown"},[s("a",{staticClass:"dropbtn",attrs:{href:"javascript:void(0)"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.keyword,expression:"keyword"}],staticClass:"search-users-field",attrs:{type:"text",autocapitalize:"none",size:"45",placeholder:"Search....."},domProps:{value:e.keyword},on:{keyup:e.findRelevantUsers,input:function(t){t.target.composing||(e.keyword=t.target.value)}}})]),s("div",{staticClass:"dropdown-content",class:{"display-content":e.keyword}},e._l(e.searchedUsers,function(t){return s("search-result",{key:t._id,attrs:{user:t},on:{resetKeyword:e.resetKeyword}})}),1)])]):e._e(),e.loggedInUser?s("div",{staticClass:"menu-icons"},[s("form",{ref:"form",staticClass:"update-user-cover-pic",attrs:{action:"",method:"POST",enctype:"multipart/form-data"}},[s("div",{staticClass:"image-upload"},[e._m(0),s("input",{attrs:{type:"file",name:"pic",id:"file-input",accept:"image/*",required:""},on:{change:function(t){e.getCloudinaryUrl()}}})])]),s("i",{staticClass:"fas fa-comment btn"}),s("i",{staticClass:"far fa-heart btn"}),s("div",{staticClass:"userName-container btn",on:{click:e.goToLoggedInUserProfile}},[s("img",{staticClass:"userImg",attrs:{src:e.loggedInUser.profilePic,alt:""}}),s("span",{staticClass:"userName"},[e._v(e._s(e.loggedInUser.userName))])])]):e._e()])])},r=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("label",{attrs:{for:"file-input"}},[s("i",{staticClass:"fas fa-upload btn"})])}],l=(s("7f7f"),function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"search-result btn",on:{click:e.goToUserProfile}},[s("img",{staticClass:"search-result-img",attrs:{src:e.user.profilePic,alt:""}}),s("div",{staticClass:"search-result-name"},[s("span",{staticClass:"username bold-reg"},[e._v(e._s(e.user.userName))]),s("span",{staticClass:"name"},[e._v(e._s(e.user.firstName)+" "+e._s(e.user.lastName))])])])}),c=[],d={props:["user"],methods:{goToUserProfile:function(){this.$router.push({name:"user-profile",params:{userName:this.user.userName}}),this.$router.go(),this.$emit("resetKeyword")}},computed:{loggedInUser:function(){return this.$store.getters.loggedInUser}}},u=d,m=(s("d512"),s("2877")),g=Object(m["a"])(u,l,c,!1,null,"9d1c1602",null),f=g.exports,h={name:"nav-bar",data:function(){return{keyword:null,navbarTitle:"Locations",lastWindow:null,windowWidth:null,cellphoneDisplay:!1}},methods:{getNavBarTitle:function(){"new-image"===this.$route.params.image?this.navbarTitle="New Image":this.$route.params.image?this.navbarTitle="Photo":"searh-results-page"===this.$route.name?"locations"===this.$route.params.type?this.navbarTitle="Locations":this.navbarTitle="Hashtags":"user-profile"===this.$route.name?this.navbarTitle=this.$route.params.userName:"edit-user-details"===this.$route.name?this.navbarTitle="Edit":this.navbarTitle=null},goBackToLastWindow:function(){this.$route.params.image?"new-image"===this.$route.params.image?this.$emit("close"):this.$router.push({params:{image:null}}):"edit-user-details"===this.$route.name?this.$router.push({name:"user-profile",params:{userName:this.$route.params.userName,image:null}}):this.$router.push({name:"home",params:{image:null}})},goToFeed:function(){this.$router.push({name:"home"})},getCloudinaryUrl:function(){var e=this,t=this.$refs.form;return this.$store.dispatch({type:"getCloudinaryPicUrl",elForm:t}).then(function(t){t&&e.$emit("addnewimage",t)})},goToLoggedInUserProfile:function(){var e=this.loggedInUser.userName;this.$router.push({name:"user-profile",params:{userName:e}}),this.$router.go()},findRelevantUsers:function(){this.keyword&&this.$store.dispatch({type:"findRelevantUsers",keyword:this.keyword})},resetKeyword:function(){this.keyword=null}},created:function(){this.getNavBarTitle(),window.innerWidth<=700&&(this.windowWidth=window.innerWidth,this.cellphoneDisplay=!0)},computed:{loggedInUser:function(){return this.$store.getters.loggedInUser},searchedUsers:function(){return this.$store.getters.searchedUsers}},watch:{$route:function(){this.getNavBarTitle()},windowWidth:function(){this.windowWidth<=700?this.cellphoneDisplay=!0:this.cellphoneDisplay=!1}},mounted:function(){var e=this;this.$nextTick(function(){window.addEventListener("resize",function(){e.windowWidth=window.innerWidth})})},components:{searchResult:f}},p=h,v=(s("60b5"),Object(m["a"])(p,o,r,!1,null,"45352b64",null)),I=v.exports,w=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.loggedInUser?s("div",{staticClass:"footer"},[s("form",{ref:"form",staticClass:"update-user-cover-pic",attrs:{action:"",method:"POST",enctype:"multipart/form-data"}},[s("div",{staticClass:"image-upload"},[e._m(0),s("input",{attrs:{type:"file",name:"pic",id:"file-input-footer",accept:"image/*",required:""},on:{change:function(t){e.getCloudinaryUrl()}}})])]),s("i",{staticClass:"fas fa-comment btn"}),s("i",{staticClass:"far fa-heart btn"}),s("i",{staticClass:"far fa-user btn",on:{click:e.goToLoggedInUserProfile}})]):e._e()},_=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("label",{attrs:{for:"file-input-footer"}},[s("i",{staticClass:"fas fa-upload btn"})])}],U={data:function(){return{}},methods:{goToLoggedInUserProfile:function(){var e=this.loggedInUser.userName;this.$router.push({name:"user-profile",params:{userName:e}}),this.$router.go()},getCloudinaryUrl:function(){var e=this,t=this.$refs.form;return this.$store.dispatch({type:"getCloudinaryPicUrl",elForm:t}).then(function(t){t&&e.$emit("addnewimage",t)})}},components:{},watch:{},computed:{loggedInUser:function(){return this.$store.getters.loggedInUser}}},C=U,y=Object(m["a"])(C,w,_,!1,null,null,null),b=y.exports,k=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("transition",{attrs:{name:"modal"}},[s("div",{staticClass:"modal-mask"},[s("div",{staticClass:"modal-wrapper"},[s("button",{staticClass:"modal-default-button",on:{click:function(t){e.$emit("close")}}},[s("i",{staticClass:"fas fa-times"})]),s("div",{staticClass:"modal-container displayVertical newImage"},[s("img",{staticClass:"new-image",attrs:{src:e.image,alt:""}}),s("div",{staticClass:"new-post-comments"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.imgDetails.location,expression:"imgDetails.location"}],attrs:{type:"text",name:"location",placeholder:"Location.........."},domProps:{value:e.imgDetails.location},on:{input:function(t){t.target.composing||e.$set(e.imgDetails,"location",t.target.value)}}}),s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.imgDetails.text,expression:"imgDetails.text"}],attrs:{placeholder:"Say something about this photo............."},domProps:{value:e.imgDetails.text},on:{input:function(t){t.target.composing||e.$set(e.imgDetails,"text",t.target.value)}}}),s("button",{staticClass:"sumbit-image-btn",on:{click:e.submitImage}},[e._v("Submit")])])])])])])},$=[],j={name:"upload-post",props:["image"],data:function(){return{imgDetails:{text:null,location:null}}},created:function(){},destroyed:function(){},computed:{},methods:{submitImage:function(){var e=this;this.$store.dispatch({type:"addImage",imgDetails:this.imgDetails,image:this.image}).then(function(){return e.$emit("close")})}}},F=j,N=Object(m["a"])(F,k,$,!1,null,"5b5e17a8",null),L=N.exports,T=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"options-container"},[s("div",{staticClass:"option"},[e._v("Change Password")]),s("div",{staticClass:"option"},[e._v("Change Settings")]),s("div",{staticClass:"option",on:{click:function(t){e.logOut()}}},[e._v("Log Out")]),s("div",{staticClass:"option",on:{click:function(t){e.$emit("close")}}},[e._v("Cancel")])])},O=[],x={name:"options",methods:{logOut:function(){console.log("logout cmp"),this.$store.dispatch({type:"logout"}),window.location="/logout"}}},P=x,M=(s("1c45"),Object(m["a"])(P,T,O,!1,null,"16679ccc",null)),E=M.exports,V={data:function(){return{newImageModual:!1,optionsModual:!1,image:{file:null}}},methods:{displayOptions:function(){this.optionsModual=!0},close:function(){this.image.file=null,this.newImageModual=!1,this.$router.push({params:{image:null}})},addnewimage:function(e){this.image.file=e,this.$router.push({params:{image:"new-image"}}),this.newImageModual=!0}},watch:{$route:function(){null===this.$route.params.image?this.newImageModual=!1:"new-image"===this.$route.params.image&&(this.newImageModual=!0)}},components:{NavBar:I,uploadPost:L,FooterNav:b,userOptions:E}},B=V,S=Object(m["a"])(B,a,n,!1,null,null,null),D=S.exports,A=s("8c4f"),R=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.imagesForFeed?s("div",{attrs:{id:"user-feed page-container"}},[e._l(e.imagesForFeed,function(t){return s("div",{key:t._id,staticClass:"user-feed",class:{visibilityNone:e.showModal}},[s("feedImage",{staticClass:"image-in-feed",attrs:{image:t},on:{displayFeedImage:function(s){e.displayFeedImage(t)}}})],1)}),e.showModal?s("view-image",{attrs:{image:e.chosenImage},on:{goBack1Image:e.goBack1Image,goForward1Img:e.goForward1Img,close:function(t){e.closeModal()}}}):e._e()],2):e._e()},z=[],W=(s("20d6"),s("bc3a")),H=s.n(W),q=s("c1df"),K=s.n(q),G=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.image&&e.imageOwner&&e.loggedInUser?s("div",{staticClass:"modal-container feed-image displayVertical"},[s("div",{staticClass:"currImage btn",style:{backgroundImage:"url("+e.image.image+")"},on:{click:function(t){e.$emit("displayFeedImage",e.image)}}}),e.loggedInUser?s("div",{staticClass:"user-info bold-reg"},[s("img",{staticClass:"profile-pic btn",attrs:{src:e.imageOwner.profilePic,alt:""},on:{click:e.goToImageOwnerProfile}}),s("span",{staticClass:"btn"},[s("span",{on:{click:e.goToImageOwnerProfile}},[e._v(e._s(e.imageOwner.userName)+"   ")]),s("p",{staticClass:"image-location",on:{click:e.goToLocationImages}},[e._v(e._s(e.image.location))])])]):e._e(),s("div",{staticClass:"comments"},e._l(e.imageComments,function(t){return s("user-comment",{key:t.id,attrs:{comment:t},on:{goToUserProfile:e.goToUserProfile,searchHashtagImages:e.searchHashtagImages}})}),1),e.socialMediaModule?s("social-media",{attrs:{image:e.image},on:{close:function(t){e.socialMediaModule=!1}}}):e._e(),e.likes?s("div",{staticClass:"likes-and-followers"},[s("div",{staticClass:"icons"},[e.isLiked?s("i",{staticClass:"fas fa-heart btn red",on:{click:e.removeUserLike}}):s("i",{staticClass:"far fa-heart btn",on:{click:e.addUserLike}}),s("i",{staticClass:"fas fa-share-alt btn",on:{click:function(t){e.socialMediaModule=!0}}}),e.inUserFavorites?s("i",{staticClass:"fas fa-bookmark btn",on:{click:e.removeFromUserFavorites}}):s("i",{staticClass:"far fa-bookmark btn",on:{click:e.addToUserFavorites}})]),s("span",{staticClass:"column"},[s("span",{staticClass:"num-of-likes bold-reg",class:{visibilityNone:0===e.likes.length}},[e._v(e._s(e.likes.length)+" Likes ")]),s("span",{staticClass:"time-posted"},[e._v(e._s(e._f("moment")(e.image.timePosted)))])])]):e._e(),s("div",{staticClass:"add-a-comment"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.comment,expression:"comment"}],staticClass:"viewed-image-text-area",attrs:{placeholder:"Add a comment.....",name:""},domProps:{value:e.comment},on:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.addUserComment(e.comment,e.image._id,e.loggedInUser._id)},input:function(t){t.target.composing||(e.comment=t.target.value)}}})])],1):e._e()},J=[],Y=(s("6762"),s("2fdb"),s("bd86")),Q=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.commentOwner&&e.words&&e.comment&&e.loggedInUser&&e.nickName?s("div",{staticClass:"comment-container"},[e.commentTextArea?s("div",{staticClass:"comment-container"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.editedComment,expression:"editedComment"}],attrs:{type:"text",placeholder:"Edit your comment"},domProps:{value:e.editedComment},on:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.editComment(e.editedComment)},input:function(t){t.target.composing||(e.editedComment=t.target.value)}}})]):s("span",{staticClass:"comment"},[s("span",{staticClass:"comment-owner bold-reg"},[e._v(e._s(e.nickName+": "))]),e._l(e.words,function(t,i){return s("span",{key:i,class:{hashtag:"#"===t[0]||"@"===t[0]},on:{click:function(s){e.findHashtagImages(t)}}},[e._v(e._s(t+" "))])})],2),e.viewedImage?s("span",{staticClass:"icons",class:{canEdit:e.comment.writerId===e.loggedInUser._id}},[s("i",{staticClass:"far fa-edit",on:{click:function(t){e.showTextArea()}}}),s("i",{staticClass:"fas fa-times",on:{click:function(t){e.$emit("deleteComment",e.comment.id)}}})]):e._e(),e.viewedImage?s("span",{staticClass:"time",class:{CEtime:e.commentOwner._id===e.loggedInUser._id}},[e._v(e._s(e._f("moment")(e.comment.timeStamp)))]):e._e()]):e._e()},X=[],Z=(s("28a5"),{name:"comment",props:["comment"],data:function(){return{commentOwner:null,nickName:null,words:null,commentTextArea:!1,editedComment:null}},created:function(){this.comment.writerId&&this.getNickName(),this.words=this.comment.comment.split(" ")},filters:{moment:function(e){return K()(e).fromNow()},isALink:function(e){return"#"===e[0]?e.toUpperCase():e}},computed:{loggedInUser:function(){return this.$store.getters.loggedInUser},viewedImage:function(){return!!this.$route.params.image}},methods:{getNickName:function(){var e=this;this.$store.dispatch({type:"getUserById",userId:this.comment.writerId}).then(function(t){e.commentOwner=t,e.commentOwner._id===e.loggedInUser._id?e.nickName="You":e.nickName=t.userName})},showTextArea:function(){this.commentTextArea=!this.commentTextArea},findHashtagImages:function(e){return"#"===e[0]?void this.$emit("searchHashtagImages",e):"@"===e[0]?void this.$emit("goToUserProfile",e):void 0},editComment:function(e){this.$emit("updateComment",{editedComment:e,commentId:this.comment.id}),this.editedComment=null,this.commentTextArea=!1}}}),ee=Z,te=(s("fe98"),Object(m["a"])(ee,Q,X,!1,null,"1d4833f6",null)),se=te.exports,ie=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"module"},[s("div",{staticClass:"title"},[e._v("Share")]),s("social-sharing",{attrs:{url:e.image.image,title:e.image.location},inlineTemplate:{render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"social-media-container"},[s("div",{staticClass:"social-media-option"},[s("network",{attrs:{network:"email"}},[s("i",{staticClass:"fa fa-envelope"}),e._v(" Email\n        ")])],1),s("div",{staticClass:"social-media-option"},[s("network",{attrs:{network:"facebook"}},[s("i",{staticClass:"fab fa-facebook"}),e._v(" Facebook\n        ")])],1),s("div",{staticClass:"social-media-option btn"},[s("network",{attrs:{network:"linkedin"}},[s("i",{staticClass:"fab fa-linkedin"}),e._v(" LinkedIn\n        ")])],1),s("div",{staticClass:"social-media-option btn"},[s("network",{attrs:{network:"pinterest"}},[s("i",{staticClass:"fab fa-pinterest"}),e._v(" Pinterest\n        ")])],1),s("div",{staticClass:"social-media-option btn"},[s("network",{attrs:{network:"reddit"}},[s("i",{staticClass:"fab fa-reddit"}),e._v(" Reddit\n        ")])],1),s("div",{staticClass:"social-media-option btn"},[s("network",{attrs:{network:"twitter"}},[s("i",{staticClass:"fab fa-twitter"}),e._v(" Twitter\n        ")])],1),s("div",{staticClass:"social-media-option btn"},[s("network",{attrs:{network:"whatsapp"}},[s("i",{staticClass:"fab fa-whatsapp"}),e._v(" Whatsapp\n        ")])],1)])},staticRenderFns:[]}}),s("a",{staticClass:"cancel",attrs:{href:"javascript:void(0)"},on:{click:function(t){e.$emit("close")}}},[e._v("Cancel")])],1)},ae=[],ne={name:"social-media",props:["image"],data:function(){return{}},created:function(){},computed:{},methods:{}},oe=ne,re=(s("8e1b"),Object(m["a"])(oe,ie,ae,!1,null,"672cc2e8",null)),le=re.exports,ce={props:["image"],data:function(){return{comment:null,imageComments:this.image.comments,displayVertically:!1,likes:this.image.likes,socialMediaModule:!1,imageOwner:null}},created:function(){this.getImageOwner(this.image.ownerId)},filters:{moment:function(e){return K()(e).fromNow()}},methods:Object(Y["a"])({addFollowers:function(e){var t=this;this.$store.dispatch({type:"addFollowers",followeeId:e}).catch(function(e){console.log("addFollowers err",e),t.$router.push({name:"login"})})},removeFollowers:function(e){var t=this;this.$store.dispatch({type:"removeFollowers",followeeId:e}).catch(function(e){console.log("removeFollowers err",e),t.$router.push({name:"login"})})},addUserLike:function(){var e=this;this.$socket.emit("likeAdded",{image:this.image,user:this.loggedInUser}),this.$store.dispatch({type:"addUserLike",imageId:this.image._id,userId:this.loggedInUser._id}).then(function(t){e.likes=t}).catch(function(t){console.log("addLike err",t),e.$router.push({name:"login"})})},removeUserLike:function(){var e=this;this.$socket.emit("likeRemoved",{image:this.image,user:this.loggedInUser}),this.$store.dispatch({type:"removeUserLike",imageId:this.image._id,userId:this.loggedInUser._id}).then(function(t){return e.likes=t}).catch(function(t){console.log("removelike err",t),e.$router.push({name:"login"})})},getImageOwner:function(e){var t=this;this.$store.dispatch({type:"getUserById",userId:e}).then(function(e){t.imageOwner=e})},goToLocationImages:function(){this.$router.push("/search/locations/".concat(this.image.location.toLowerCase()))},searchHashtagImages:function(e){e=e.slice(1),this.$router.push("/search/hashtag/".concat(e.toLowerCase())),this.$router.go()},addUserComment:function(e,t,s){var i=this;this.$socket.emit("commentAdded",{comment:e,image:this.image,writerId:s}),this.$store.dispatch({type:"addUserComment",comment:e,imageId:t,writerId:s}).then(function(e){i.imageComments=e,i.comment=null}).catch(function(e){console.log("addUserComment err",e),i.$router.push({name:"login"})})},goToUserProfile:function(e){var t=this;this.$store.dispatch({type:"getUserByUsername",userName:e}).then(function(e){null!==e&&(t.$router.push({name:"user-profile",params:{userName:e.userName}}),t.$router.go())}).catch(function(e){console.log("hashtag go to profile err",e),t.$router.push({name:"login"})})},addToUserFavorites:function(){var e=this;this.$store.dispatch({type:"addToUserFavorites",imageId:this.image._id}).catch(function(t){console.log("favs err",t),e.$router.push({name:"login"})})},removeFromUserFavorites:function(){var e=this;this.$store.dispatch({type:"removeFromUserFavorites",imageId:this.image._id}).catch(function(t){console.log("favs err",t),e.$router.push({name:"login"})})},goToImageOwnerProfile:function(){var e=this.imageOwner.userName;this.$router.push({name:"user-profile",params:{userName:e}})}},"goToLocationImages",function(){this.$router.push("/search/locations/".concat(this.image.location.toLowerCase()))}),computed:{loggedInUser:function(){return this.$store.getters.loggedInUser},inUserFavorites:function(){if(this.loggedInUser.favorites)return this.loggedInUser.favorites.includes(this.image._id)},isLiked:function(){if(this.likes)return this.likes.includes(this.loggedInUser._id)}},components:{userComment:se,socialMedia:le}},de=ce,ue=(s("d574"),Object(m["a"])(de,G,J,!1,null,"0a3280fe",null)),me=ue.exports,ge=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.imageOwner&&e.loggedInUser&&e.viewedImage?s("transition",{attrs:{name:"modal"}},[s("div",{staticClass:"modal-mask"},[s("div",{staticClass:"modal-wrapper"},[s("button",{staticClass:"modal-default-button",on:{click:function(t){e.$emit("close")}}},[s("i",{staticClass:"fas fa-times"})]),s("div",{staticClass:"modal-container pop-up-image",class:{displayVertical:e.displayVertically}},[s("div",{staticClass:"currImage",style:{backgroundImage:"url("+e.viewedImage.image+")"}},[s("i",{staticClass:"fas fa-angle-left arrow btn",on:{click:function(t){e.$emit("goBack1Image")}}}),s("i",{staticClass:"fas fa-angle-right arrow btn",on:{click:function(t){e.$emit("goForward1Img")}}})]),s("div",{staticClass:"user-info bold-reg"},[s("img",{staticClass:"profile-pic btn",attrs:{src:e.imageOwner.profilePic,alt:""},on:{click:e.goToImageOwnerProfile}}),s("span",{staticClass:"btn"},[s("span",{on:{click:e.goToImageOwnerProfile}},[e._v(e._s(e.imageOwner.userName)+"   ")]),e.isFollowing?s("span",{class:e.followingStatusClass,on:{click:function(t){e.removeFollowers(e.viewedImage.ownerId)}}},[e._v("Following")]):s("span",{staticClass:"follow",class:e.followingStatusClass,on:{click:function(t){e.addFollowers(e.viewedImage.ownerId)}}},[e._v("Follow")]),s("p",{staticClass:"image-location",on:{click:e.goToLocationImages}},[e._v(e._s(e.viewedImage.location))])])]),e.socialMediaModule?s("social-media",{attrs:{image:e.viewedImage},on:{close:function(t){e.socialMediaModule=!1}}}):e._e(),e.viewedImage.comments?s("div",{staticClass:"comments"},[e._l(e.viewedImage.comments,function(t){return s("user-comment",{key:t.id,attrs:{comment:t},on:{goToUserProfile:e.goToUserProfile,searchHashtagImages:e.searchHashtagImages,updateComment:e.updateComment,deleteComment:e.deleteComment}})}),e.typingUser?s("div",{staticClass:"userTyping"},[e._v(e._s(e.typingUser)+" is typing....")]):e._e()],2):e._e(),s("div",{staticClass:"likes-and-followers"},[e.loggedInUser?s("div",{staticClass:"icons"},[e.isLiked?s("i",{staticClass:"fas fa-heart btn red",on:{click:e.removeUserLike}}):s("i",{staticClass:"far fa-heart btn",on:{click:e.addUserLike}}),s("i",{staticClass:"fas fa-share-alt btn",on:{click:function(t){e.socialMediaModule=!0}}}),e.inUserFavorites?s("i",{staticClass:"fas fa-bookmark btn",on:{click:e.removeFromUserFavorites}}):s("i",{staticClass:"far fa-bookmark btn",on:{click:e.addToUserFavorites}})]):e._e(),e.followeesThatLiked&&e.viewedImage.likes?s("span",{staticClass:"column"},[1===e.followeesThatLiked.length?s("span",{staticClass:"namesOfLikes"},[s("i",{staticClass:"far fa-thumbs-up"}),e._v("\n              "+e._s(e.followeesThatLiked[0])+"\n              "),e.viewedImage.likes.length>1?s("span",[e._v("and "+e._s(e.viewedImage.likes.length-1)+" others ")]):e._e(),e._v("like this\n            ")]):2===e.followeesThatLiked.length?s("span",{staticClass:"namesOfLikes"},[s("i",{staticClass:"far fa-thumbs-up"}),e._v("\n              "+e._s(e.followeesThatLiked[0]+" and "+e.followeesThatLiked[1])+"\n              "),e.viewedImage.likes.length>2?s("span",[e._v("and "+e._s(e.viewedImage.likes.length-2)+" others  ")]):e._e(),e._v("\n              like this\n            ")]):e.followeesThatLiked.length>2?s("span",{staticClass:"namesOfLikes"},[s("i",{staticClass:"far fa-thumbs-up"}),e._v("\n              "+e._s(e.followeesThatLiked[0]+" and "+e.followeesThatLiked[1])+"\n              "),e.viewedImage.likes.length>2?s("span",[e._v("\n                and "+e._s(e.viewedImage.likes.length-2)+" others ")]):e._e(),e._v(" like this\n            ")]):0===e.followeesThatLiked.length?s("span",{staticClass:"num-of-likes bold-reg",class:{visibilityNone:0===e.viewedImage.likes.length}},[e._v(e._s(e.viewedImage.likes.length)+" Likes ")]):e._e(),s("span",{staticClass:"time-posted"},[e._v(e._s(e._f("moment")(e.viewedImage.timePosted)))])]):e._e()]),s("div",{staticClass:"add-a-comment"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.newComment,expression:"newComment"}],staticClass:"viewed-image-text-area",attrs:{placeholder:"Add a comment.....",name:""},domProps:{value:e.newComment},on:{keydown:function(t){e.userIsTyping(e.loggedInUser.userName,e.viewedImage._id)},keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.addUserComment(e.newComment,e.viewedImage._id,e.loggedInUser._id)},input:function(t){t.target.composing||(e.newComment=t.target.value)}}})])],1)])])]):e._e()},fe=[],he={name:"view-image",props:["image"],data:function(){return{newComment:null,displayVertically:!1,windowWidth:null,socialMediaModule:!1}},created:function(){window.scrollTo(0,0),window.innerWidth<=1100&&(this.displayVertically=!0)},filters:{moment:function(e){return K()(e).fromNow()}},methods:{updateComment:function(e){this.$socket.emit("commentEdited",{commentId:e.commentId,image:this.viewedImage,newComment:e.editedComment}),this.$store.dispatch({type:"editComment",commentId:e.commentId,imageId:this.viewedImage._id,newComment:e.editedComment})},deleteComment:function(e){this.$socket.emit("commentDeleted",{commentId:e,image:this.viewedImage}),this.$store.dispatch({type:"deleteComment",commentId:e,imageId:this.viewedImage._id})},loadImage:function(){var e=this;this.$store.dispatch({type:"getImageById",imageId:this.$route.params.image}).then(function(t){e.getViewedImageOwner(t.ownerId),e.$store.dispatch({type:"setViewedImage",image:t}),e.$store.dispatch({type:"getViewedImageFollowers",image:t,loggedInUser:e.loggedInUser})}).catch(function(t){console.log("err",t),e.$router.push({name:"login"})})},userIsTyping:function(e,t){this.$socket.emit("typing",{userName:e,imageId:t})},addFollowers:function(e){var t=this;this.$store.dispatch({type:"addFollowers",followeeId:e}).catch(function(e){console.log("addFollowers err",e),t.$router.push({name:"login"})})},removeFollowers:function(e){var t=this;this.$store.dispatch({type:"removeFollowers",followeeId:e}).catch(function(e){console.log("removeFollowers err",e),t.$router.push({name:"login"})})},addUserLike:function(){var e=this;this.$socket.emit("likeAdded",{image:this.viewedImage,user:this.loggedInUser}),this.$store.dispatch({type:"addUserLike",imageId:this.viewedImage._id,userId:this.loggedInUser._id}).catch(function(t){console.log("addUserLike err",t),e.$router.push({name:"login"})})},removeUserLike:function(){var e=this;this.$socket.emit("likeRemoved",{image:this.viewedImage,user:this.loggedInUser}),this.$store.dispatch({type:"removeUserLike",imageId:this.viewedImage._id,userId:this.loggedInUser._id,userName:this.loggedInUser.userName}).catch(function(t){console.log("removeUserLike err",t),e.$router.push({name:"login"})})},getViewedImageOwner:function(e){var t=this;this.$store.dispatch({type:"getViewedImageOwner",userId:e}).catch(function(e){console.log("getViewedImageOwner err",e),t.$router.push({name:"login"})})},addUserComment:function(e,t,s){var i=this;this.$socket.emit("commentAdded",{comment:e,image:this.viewedImage,writerId:s}),this.$store.dispatch({type:"addUserComment",comment:e,imageId:t,writerId:s}).catch(function(e){console.log("addUserComment err",e),i.$router.push({name:"login"})}),this.newComment=null},addToUserFavorites:function(){var e=this;this.$store.dispatch({type:"addToUserFavorites",imageId:this.image._id}).catch(function(t){console.log("addToUserFavorites err",t),e.$router.push({name:"login"})})},removeFromUserFavorites:function(){var e=this;this.$store.dispatch({type:"removeFromUserFavorites",imageId:this.image._id}).catch(function(t){console.log("removeFromUserFavorites err",t),e.$router.push({name:"login"})})},goToImageOwnerProfile:function(){var e=this.imageOwner.userName;this.$router.push({name:"user-profile",params:{userName:e,image:null}})},goToLocationImages:function(){this.$router.push("/search/locations/".concat(this.image.location.toLowerCase()))},searchHashtagImages:function(e){e=e.slice(1),this.$router.push("/search/hashtag/".concat(e.toLowerCase())),this.$router.go()},goToUserProfile:function(e){var t=this;this.$store.dispatch({type:"getUserByUsername",userName:e}).then(function(e){null!==e&&(t.$router.push({name:"user-profile",params:{userName:e.userName}}),t.$router.go())})}},computed:{followeesThatLiked:function(){var e=this,t=this.$store.getters.followeesThatLiked,s=t.findIndex(function(t){return t===e.loggedInUser.userName});return s>-1&&(t[s]="You"),t},viewedImage:function(){return this.$store.getters.viewedImage},typingUser:function(){return this.$store.getters.isTyping},loggedInUser:function(){return this.$store.getters.loggedInUser},imageOwner:function(){return this.$store.getters.viewedImageOwner},isFollowing:function(){if(this.loggedInUser.followees)return this.loggedInUser.followees.includes(this.imageOwner._id)},followingStatusClass:function(){return{displayNone:this.loggedInUser._id===this.imageOwner._id}},inUserFavorites:function(){if(this.loggedInUser.favorites)return this.loggedInUser.favorites.includes(this.viewedImage._id)},isLiked:function(){if(this.viewedImage.likes)return this.viewedImage.likes.includes(this.loggedInUser._id)}},mounted:function(){var e=this;this.loadImage(),this.$nextTick(function(){window.addEventListener("resize",function(){e.windowWidth=window.innerWidth,e.windowWidth<=1100?e.displayVertically=!0:e.displayVertically=!1})})},watch:{$route:function(){this.$route.params.image&&this.loadImage()}},components:{userComment:se,socialMedia:le}},pe=he,ve=(s("cc43"),Object(m["a"])(pe,ge,fe,!1,null,"291db2bd",null)),Ie=ve.exports,we={name:"home",data:function(){return{showModal:!1,chosenImage:null,userImages:null}},methods:{closeModal:function(){this.showModal=!1,this.userImages=null,this.$router.push({params:{image:null}}),this.$router.go(),this.$store.dispatch({type:"setViewedImage",image:null})},goBack1Image:function(){var e=this.getIndexOfCurrImage();0===e?e=this.userImages.length-1:e--,this.displayNewImg(e)},goForward1Img:function(){var e=this.getIndexOfCurrImage();e===this.userImages.length-1?e=0:e++,this.displayNewImg(e)},getUserImages:function(e){var t=this;this.$store.dispatch({type:"getVisitedUserImages",userId:e}).then(function(e){t.userImages=e}).catch(function(e){console.log("getUserImages ERR",e),t.$router.push({name:"login"})})},displayNewImg:function(e){this.chosenImage=this.userImages[e],this.$router.push({params:{image:this.userImages[e]._id}})},getIndexOfCurrImage:function(){var e=this,t=this.userImages.findIndex(function(t){return t._id===e.chosenImage._id});return t},displayFeedImage:function(e){this.$router.push({params:{image:e._id}}),this.getUserImages(e.ownerId),this.chosenImage=e,this.showModal=!0},getInitalImages:function(){var e=this;this.$store.dispatch({type:"getInitalImages"}).catch(function(t){console.log("getInitalImages ERR",t),e.$router.push({name:"login"})})},getAdditionalImages:function(){this.$store.dispatch({type:"getAdditionalImages"})},scroll:function(){var e=this;window.onscroll=function(){var t=document.documentElement.scrollTop+window.innerHeight>=document.documentElement.offsetHeight-1;t&&e.imagesForFeed.length>2&&e.getAdditionalImages()}}},created:function(){var e=this;this.getInitalImages();var t=this.$route.params.image;t&&"home"===this.$route.name&&"new-image"!==t&&this.$store.dispatch({type:"getImageById",imageId:t}).then(function(t){e.chosenImage=t,e.showModal=!0,e.getUserImages(t.ownerId)}).catch(function(t){console.log("getImageById ERR",t),e.$router.push({name:"login"})})},beforeMount:function(){},mounted:function(){this.scroll()},computed:{imagesForFeed:function(){return this.$store.getters.imagesForFeed},loggedInUser:function(){return this.$store.getters.loggedInUser}},watch:{showModal:function(){!1===this.showModal&&this.$router.push({params:{image:null}})},$route:function(){null===this.$route.params.image&&(this.showModal=!1)}},components:{feedImage:me,viewImage:Ie}},_e=we,Ue=(s("6638"),Object(m["a"])(_e,R,z,!1,null,"39eae74a",null)),Ce=Ue.exports,ye=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{class:{darkScreen:e.optionsModual}},[e.visitedUser?s("div",{staticClass:"profile page-container"},[e.optionsModual?s("user-options",{on:{close:function(t){e.optionsModual=!1}}}):e._e(),e.cellphoneDisplay?s("section",{staticClass:"profile-pic-container"},[s("div",{staticClass:"upperpart-of-profile"},[s("img",{staticClass:"profile-pic",attrs:{src:e.visitedUser.profilePic}}),s("div",{staticClass:"column"},[s("div",{staticClass:"numbers"},[e.usersImages?s("p",[s("span",{staticClass:"bold-reg"},[e._v(e._s(e.usersImages.length+" "))]),e._v("posts\n            ")]):e._e(),s("p",[s("span",{staticClass:"bold-reg"},[e._v(e._s(e.visitedUser.followers.length+" "))]),e._v("followers\n            ")]),s("p",[s("span",{staticClass:"bold-reg"},[e._v(e._s(e.visitedUser.followees.length+" "))]),e._v("following\n            ")])]),e.loggedInUser?s("div",{staticClass:"right"},[e.loggedInUser._id===e.visitedUser._id?s("section",[s("button",{staticClass:"edit-profile-or-following-btn btn",on:{click:e.editProfile}},[e._v("Edit Profile")])]):e.followingVisitedUser?s("div",[e._m(0),s("button",{staticClass:"mobile-following"},[s("i",{staticClass:"fas fa-user-check",on:{click:function(t){e.removeFollowers(e.visitedUser._id)}}})])]):s("button",{staticClass:"follower-user-btn btn",on:{click:function(t){e.addFollowers(e.visitedUser._id)}}},[e._v("Follow")])]):e._e()])]),s("div",{staticClass:"fullname bold-reg"},[e._v(e._s(e.visitedUser.firstName+" "+e.visitedUser.lastName))]),s("div",{staticClass:"bio"},[e._v(e._s(e.visitedUser.bio))])]):s("section",{staticClass:"profile-pic-container"},[s("img",{staticClass:"profile-pic",attrs:{src:e.visitedUser.profilePic}}),s("div",{staticClass:"user-details"},[s("div",{staticClass:"username"},[e._v("\n          "+e._s(e.visitedUser.userName)+"\n          "),e.loggedInUser?s("div",{staticClass:"right"},[e.loggedInUser._id===e.visitedUser._id?s("section",[s("button",{staticClass:"edit-profile-or-following-btn btn",on:{click:e.editProfile}},[e._v("Edit Profile")]),s("i",{staticClass:"fas fa-cog settings",on:{click:function(t){e.displayOptions()}}})]):e.followingVisitedUser?s("button",{staticClass:"edit-profile-or-following-btn btn",on:{click:function(t){e.removeFollowers(e.visitedUser._id)}}},[e._v("Following")]):s("button",{staticClass:"follower-user-btn btn",on:{click:function(t){e.addFollowers(e.visitedUser._id)}}},[e._v("Follow")])]):e._e()]),s("div",{staticClass:"numbers"},[e.usersImages?s("p",[e.usersImages?s("span",{staticClass:"bold-reg"},[e._v(e._s(e.usersImages.length+" "))]):e._e(),e._v("posts\n          ")]):e._e(),s("p",[s("span",{staticClass:"bold-reg"},[e._v(e._s(e.visitedUser.followers.length+" "))]),e._v("followers\n          ")]),s("p",[s("span",{staticClass:"bold-reg"},[e._v(e._s(e.visitedUser.followees.length+" "))]),e._v("following\n          ")])]),s("div",{staticClass:"fullname bold-reg"},[e._v(e._s(e.visitedUser.firstName+" "+e.visitedUser.lastName))]),s("div",{staticClass:"bio"},[e._v(e._s(e.visitedUser.bio))])])]),s("section",{staticClass:"posts-container"},[s("div",{staticClass:"filter-nav"},[s("span",{staticClass:"btn",class:{"chosen-filter":"album"===e.filter},on:{click:function(t){e.getVisitedUserImages(e.visitedUser._id,"album")}}},[s("i",{staticClass:"far fa-images"}),s("h4",{staticClass:"filter"},[e._v(" My Images")])]),s("span",{staticClass:"btn",class:{"chosen-filter":"favorites"===e.filter},on:{click:function(t){e.getUserFavoriteImages("favorites")}}},[s("i",{staticClass:"far fa-star"}),s("h4",{staticClass:"filter"},[e._v("  Favorites")])])]),s("galleryOfImages",{directives:[{name:"show",rawName:"v-show",value:!e.optionsModual,expression:"!optionsModual"}]})],1)],1):e._e()])},be=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("button",{staticClass:"mobile-following message"},[s("i",{staticClass:"far fa-envelope"})])}],ke=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[e.showModal?s("view-image",{attrs:{image:e.viewedImage},on:{goBack1Image:e.goBack1Image,goForward1Img:e.goForward1Img,close:function(t){e.close()}}}):e._e(),e.isLoading?s("h1",[e._v("Loading...")]):e._e(),s("div",{staticClass:"user-posts"},e._l(e.displayedImages,function(t){return s("img",{key:t._id,staticClass:"visitedUserImg btn",attrs:{src:t.image,alt:"oh noo!"},on:{click:function(s){e.displayViewedImage(t)}}})}),0)],1)},$e=[],je={name:"image-gallery",data:function(){return{showModal:!1,viewedImage:null}},methods:{close:function(){this.showModal=!1,this.$store.dispatch({type:"setViewedImage",image:null})},goBack1Image:function(){var e=this.getIndexOfCurrImage();0===e?e=this.displayedImages.length-1:e--,this.displayNewImg(e)},goForward1Img:function(){var e=this.getIndexOfCurrImage();e===this.displayedImages.length-1?e=0:e++,this.displayNewImg(e)},displayNewImg:function(e){this.viewedImage=this.displayedImages[e],this.$router.push({params:{image:this.displayedImages[e]._id}})},getIndexOfCurrImage:function(){var e=this,t=this.displayedImages.findIndex(function(t){return t._id===e.viewedImage._id});return t},displayViewedImage:function(e){this.showModal=!0,this.viewedImage=e,this.$router.push({params:{image:e._id}})}},computed:{displayedImages:function(){return this.$store.getters.viewedImageCollection},isLoading:function(){return this.$store.getters.isLoading},loggedInUser:function(){return this.$store.getters.loggedInUser}},created:function(){var e=this,t=this.$route.params.image;t&&"new-image"!==t&&this.$store.dispatch({type:"getImageById",imageId:t}).then(function(t){e.viewedImage=t,e.showModal=!0})},mounted:function(){},watch:{showModal:function(){!1===this.showModal&&this.$router.push({params:{image:null}})},$route:function(){null===this.$route.params.image&&(this.showModal=!1)}},components:{viewImage:Ie}},Fe=je,Ne=Object(m["a"])(Fe,ke,$e,!1,null,null,null),Le=Ne.exports,Te={name:"user-profile",data:function(){return{filter:"album",cellphoneDisplay:!1,windowWidth:null,optionsModual:!1}},methods:{displayOptions:function(){this.optionsModual=!0},getVisitedUserImages:function(e,t){var s=this;this.filter=t,this.$store.dispatch({type:"getVisitedUserImages",userId:e}).then().catch(function(e){console.log("getVisitedUserImages ERR",e),s.$router.push({name:"login"})})},getUserFavoriteImages:function(e){var t=this;this.filter=e,this.$store.dispatch({type:"getUserFavoriteImages",userId:this.visitedUser._id}).catch(function(e){t.$router.push({name:"login"})})},addFollowers:function(e){var t=this;this.$store.dispatch({type:"addFollowers",followeeId:e}).catch(function(e){console.log("addFollowers ERR",e),t.$router.push({name:"login"})})},removeFollowers:function(e){var t=this;this.$store.dispatch({type:"removeFollowers",followeeId:e}).catch(function(e){console.log("removeFollowers ERR",e),t.$router.push({name:"login"})})},editProfile:function(){this.$router.push({name:"edit-user-details",params:{userName:this.visitedUser.userName}})}},computed:{usersImages:function(){return this.$store.getters.viewedImageCollection},followingVisitedUser:function(){return this.loggedInUser.followees.includes(this.visitedUser._id)},loggedInUser:function(){return this.$store.getters.loggedInUser},visitedUser:function(){return this.$store.getters.visitedUser}},created:function(){var e=this,t=this.$route.params.userName;this.$store.dispatch({type:"getVisitedUser",userName:t}).then(function(t){return e.getVisitedUserImages(t._id,"album")}).catch(function(t){console.log("getVisitedUser ERR",t),e.$router.push({name:"login"})}),window.innerWidth<=700&&(this.cellphoneDisplay=!0)},destroyed:function(){this.$store.dispatch({type:"setVisitedUser",user:null})},components:{galleryOfImages:Le,userOptions:E},mounted:function(){var e=this;this.$nextTick(function(){window.addEventListener("resize",function(){e.windowWidth=window.innerWidth})})},watch:{windowWidth:function(){this.windowWidth<=700?this.cellphoneDisplay=!0:this.cellphoneDisplay=!1}}},Oe=Te,xe=(s("6346"),Object(m["a"])(Oe,ye,be,!1,null,null,null)),Pe=xe.exports,Me=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.loggedInUser?s("div",[s("form",{ref:"form",staticClass:"edit-profile-container page-container",attrs:{action:"",method:"POST",enctype:"multipart/form-data"},on:{submit:function(t){return t.preventDefault(),e.updateUserDetails(t)}}},[e.currProfilePic&&e.loggedInUser?s("div",{staticClass:"update-profile-pic-container"},[s("img",{staticClass:"edit-image",attrs:{src:e.currProfilePic,alt:"profile-picture"}}),s("h3",[e._v(e._s(e.loggedInUser.userName))]),s("div",{staticClass:"image-upload"},[s("label",{staticClass:"btn",attrs:{for:"file-input-edit"}},[e._v("Update your Profile Picture")]),s("input",{attrs:{type:"file",name:"user-profile-pic",id:"file-input-edit",accept:"image/*"},on:{change:e.uploadImage}})])]):e._e(),s("label",{staticClass:"edit-profile-label",attrs:{for:"idFName"}},[s("h3",[e._v("First Name:")]),s("input",{staticClass:"edit-user-input fName",attrs:{type:"text",id:"idFName",placeholder:"First name...."},domProps:{value:e.loggedInUser.firstName},on:{keyup:function(t){e.tempUpdate("firstName",t.target.value)}}})]),s("label",{staticClass:"edit-profile-label",attrs:{for:"idLName"}},[s("h3",[e._v("Last Name:")]),s("input",{staticClass:"edit-user-input lName",attrs:{type:"text",id:"idLName",placeholder:"Last name...."},domProps:{value:e.loggedInUser.lastName},on:{keyup:function(t){e.tempUpdate("lastName",t.target.value)}}})]),s("label",{staticClass:"edit-profile-label",attrs:{for:"idUName"}},[s("h3",[e._v("Username:")]),s("input",{staticClass:"edit-user-input userName",attrs:{type:"text",id:"idUName",placeholder:"Username...."},domProps:{value:e.loggedInUser.userName},on:{keyup:function(t){e.tempUpdate("userName",t.target.value)}}})]),s("label",{staticClass:"edit-profile-label",attrs:{for:"idEmail"}},[s("h3",[e._v("Email:")]),s("input",{staticClass:"edit-user-input email",attrs:{type:"text",id:"idEmail",placeholder:"Email...."},domProps:{value:e.loggedInUser.email},on:{keyup:function(t){e.tempUpdate("email",t.target.value)}}})]),s("label",{staticClass:"edit-profile-label"},[s("h3",[e._v("Bio:")]),s("textarea",{staticClass:"edit-user-input editBio",attrs:{placeholder:"Bio...."},domProps:{value:e.loggedInUser.bio},on:{keyup:function(t){e.tempUpdate("bio",t.target.value)}}})]),s("input",{staticClass:"sumbit-btn btn",class:{"sumbit-btn-after-changes":e.userMadeChanges},attrs:{type:"submit",value:"Update"}})])]):e._e()},Ee=[],Ve={name:"edit-user-details",data:function(){return{profilePicChanged:!1,userMadeChanges:!1}},created:function(){this.getLoggedInUser()},mounted:function(){},computed:{loggedInUser:function(){return this.$store.getters.loggedInUser},currProfilePic:function(){return this.profilePicChanged?this.user.profilePic:this.loggedInUser.profilePic}},methods:{getLoggedInUser:function(){this.$store.dispatch({type:"getLoggedInUser"})},tempUpdate:function(e,t){console.log("edit details",e,t),this.$store.dispatch({type:"updateLoggedInUserTemp",detailToUpdate:e,detail:t}),this.userMadeChanges=!0},updateUserDetails:function(){var e=this;this.$store.dispatch({type:"updateUserDetails",userDetails:this.loggedInUser}).then(function(){e.userMadeChanges=!1,e.getLoggedInUser()}).catch(function(t){console.log("getVisitedUserImages ERR",t),e.$router.push({name:"login"})})},uploadImage:function(){var e=this,t=this.$refs.form;return this.$store.dispatch({type:"getCloudinaryPicUrl",elForm:t}).then(function(t){e.user.profilePic=t,e.profilePicChanged=!0,e.updateUserDetails()})}},watched:{}},Be=Ve,Se=Object(m["a"])(Be,Me,Ee,!1,null,null,null),De=Se.exports,Ae=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"loginpanel"},[s("form",{attrs:{action:"/login",method:"post"}},[s("div",{staticClass:"txt"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.credentials.username,expression:"credentials.username"}],attrs:{id:"username",type:"text",name:"username",placeholder:"Username",required:""},domProps:{value:e.credentials.username},on:{input:function(t){t.target.composing||e.$set(e.credentials,"username",t.target.value)}}}),s("label",{staticClass:"entypo-user",attrs:{for:"username"}})]),s("div",{staticClass:"txt"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.credentials.password,expression:"credentials.password"}],attrs:{id:"password",type:"password",name:"password",placeholder:"Password",required:""},domProps:{value:e.credentials.password},on:{input:function(t){t.target.composing||e.$set(e.credentials,"password",t.target.value)}}}),s("label",{staticClass:"entypo-lock",attrs:{for:"password"}})]),e.showMessage?s("div",{staticClass:"red"},[e._v("\n        "+e._s(e.message)+"\n        "),s("i",{staticClass:"fas fa-times",on:{click:function(t){e.showMessage=!1}}})]):e._e(),s("div",{staticClass:"buttons"},[s("input",{attrs:{type:"submit",value:"Login"}}),s("span",[s("a",{staticClass:"entypo-user-add register",attrs:{href:"javascript:void(0)"},on:{click:function(t){e.register()}}},[e._v("Register")])])])]),e._m(0),e._m(1)])])},Re=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"hr"},[s("div"),s("div",[e._v("OR")]),s("div")])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"social"},[s("a",{staticClass:"facebook",attrs:{href:"javascript:void(0)"}}),s("a",{staticClass:"twitter",attrs:{href:"javascript:void(0)"}}),s("a",{staticClass:"googleplus",attrs:{href:"javascript:void(0)"}})])}],ze="/user";function We(e){return H.a.post("".concat(ze,"/newUser"),{user:e}).then(function(e){return e.data})}function He(e){return H.a.post("".concat(ze,"/userNameById"),{ids:e}).then(function(e){return e.data})}function qe(e){return H.a.get("".concat(ze,"/").concat(e)).then(function(e){return e.data})}function Ke(e){return H.a.get("".concat(ze,"/").concat(e,"/nickname")).then(function(e){return e.data}).catch(function(e){})}function Ge(){return H.a.get("".concat(ze,"/loggedInUser")).then(function(e){return e.data})}function Je(e,t){return H.a.put("".concat(ze,"/").concat(e,"/followers"),{followeeId:e,followerId:t}).then(function(e){return e.data})}function Ye(e,t){return H.a.delete("".concat(ze,"/").concat(e,"/").concat(t,"/followers")).then(function(e){return e.data})}function Qe(e,t){return H.a.put("".concat(ze,"/").concat(e,"/favorites"),{imageId:e,loggedInUserId:t}).then(function(e){return e.data})}function Xe(e,t){return H.a.delete("".concat(ze,"/").concat(e,"/").concat(t,"/favorites")).then(function(e){return e.data})}function Ze(e){return H.a.get("".concat(ze,"/").concat(e,"/images")).then(function(e){return e.data})}function et(e){var t=e._id;return H.a.put("".concat(ze,"/").concat(t,"/userDetails"),{userDetails:e}).then(function(e){return e.data})}function tt(e){return H.a.post("/login",{credentials:e}).then(function(e){return e.data})}function st(e){return H.a.get("".concat(ze,"/searchResults/users/").concat(e)).then(function(e){return e.data})}var it={getUserById:qe,addFollowers:Je,removeFollowers:Ye,addToUserFavorites:Qe,removeFromUserFavorites:Xe,getImagesByImageId:Ze,updateUserDetails:et,authenticateUser:tt,findRelevantUsers:st,getUserByUsername:Ke,getUserNamesById:He,getLoggedInUser:Ge,createNewUser:We},at={name:"login",data:function(){return{credentials:{username:"",password:""},message:null,showMessage:!1}},methods:{register:function(){this.$router.push({name:"register"})}},created:function(){"new-user"===this.$route.query.success||"no-user"===this.$route.query.faliure?(this.showMessage=!0,this.message="Please login"):"faliure"===this.$route.query.faliure&&(this.showMessage=!0,this.message="Wrong username or password!")}},nt=at,ot=(s("1f20"),Object(m["a"])(nt,Ae,Re,!1,null,"76224b11",null)),rt=ot.exports,lt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.images?s("div",[s("div",{staticClass:"location-page"},["locations"===e.type?s("div",{attrs:{id:"myMap"}}):e._e()]),s("div",{staticClass:"page-container"},[s("div",{staticClass:"location-info-container"},[s("img",{staticClass:"location-img",attrs:{src:e.image,alt:""}}),"locations"===e.type?s("h3",{staticClass:"location-name"},[e._v(e._s(this.city)+", "+e._s(this.country))]):e._e()]),s("gallary-of-images",{attrs:{displayedImages:e.images}})],1)]):e._e()},ct=[],dt="AIzaSyBMHJn85lVHElIHLfgsdUCWL5HvbRPWAss",ut="12f72ce570ef49eba7e1d31f608d3f47";function mt(){return dt}function gt(){return ut}var ft={getGoogleAPI:mt,getOpencagedataAPI:gt},ht={name:"searh-results-page",data:function(){return{images:null,city:null,country:null,type:null,image:null,googleAPI:ft.getGoogleAPI(),opencagedataAPI:ft.getOpencagedataAPI()}},components:{gallaryOfImages:Le},created:function(){var e=this.$route.params.keyword;this.type=this.$route.params.type,"locations"===this.type&&this.getLocation(e),"hashtag"===this.type&&this.getHashtagImages(e)},mounted:function(){},computed:{loggedInUser:function(){return this.$store.getters.loggedInUser}},methods:{getLocation:function(e){var t=this;this.image="https://www.st-christophers.co.uk/__data/assets/image/0004/454954/berlin_hero_updated.jpg",this.getCountryInfo(e),this.city=e.charAt(0).toUpperCase()+e.slice(1),this.$store.dispatch({type:"getImagesByLocation",location:e}).then(function(e){return t.images=e}).catch(function(e){console.log("getVisitedUserImages ERR",e),t.$router.push({name:"login"})})},getHashtagImages:function(e){var t=this,s=e;this.$store.dispatch({type:"getImagesByHashtag",hashtag:s}).then(function(e){t.images=e,t.image=e[0].image}).catch(function(e){console.log("getVisitedUserImages ERR",e),t.$router.push({name:"login"})})},loadMap:function(e,t){var s={lat:e,lng:t};this.map=new google.maps.Map(document.getElementById("myMap"),{center:s,scrollwheel:!1,zoom:4}),this.marker=new google.maps.Marker({position:s,map:this.map,title:this.city})},getImageOfCity:function(e,t){},getCountryInfo:function(e){var t=this;H.a.get("https://api.opencagedata.com/geocode/v1/json?q=".concat(e,"&key=").concat(this.opencagedataAPI," ")).then(function(e){var s=e.data.results[0];t.loadMap(s.geometry.lat,s.geometry.lng),t.getImageOfCity(s.geometry.lat,s.geometry.lng),t.country=s.components.country})}}},pt=ht,vt=(s("71fc"),Object(m["a"])(pt,lt,ct,!1,null,"4f69f210",null)),It=vt.exports,wt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"form_wrapper"},[s("div",{staticClass:"form_container"},[e._m(0),s("div",{staticClass:"row clearfix"},[s("div",{},[s("form",[s("div",{staticClass:"input_field"},[e._m(1),s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.userName,expression:"user.userName"}],attrs:{type:"text",name:"username",placeholder:"Username",required:""},domProps:{value:e.user.userName},on:{input:function(t){t.target.composing||e.$set(e.user,"userName",t.target.value)}}})]),s("div",{staticClass:"input_field"},[e._m(2),s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.email,expression:"user.email"}],attrs:{type:"email",name:"email",placeholder:"Email",required:""},domProps:{value:e.user.email},on:{input:function(t){t.target.composing||e.$set(e.user,"email",t.target.value)}}})]),s("div",{staticClass:"input_field"},[e._m(3),s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.password,expression:"user.password"}],attrs:{type:"password",name:"password",placeholder:"Password",required:""},domProps:{value:e.user.password},on:{input:function(t){t.target.composing||e.$set(e.user,"password",t.target.value)}}})]),s("div",{staticClass:"input_field"},[e._m(4),s("input",{directives:[{name:"model",rawName:"v-model",value:e.password2,expression:"password2"}],attrs:{type:"password",name:"password",placeholder:"Re-type Password",required:""},domProps:{value:e.password2},on:{input:function(t){t.target.composing||(e.password2=t.target.value)}}})]),e.passwordNotValidated?s("p",{staticClass:"red"},[e._v("Passwords must match!!")]):e._e(),s("div",{staticClass:"row clearfix"},[s("div",{staticClass:"col_half"},[s("div",{staticClass:"input_field"},[e._m(5),s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.firstName,expression:"user.firstName"}],attrs:{type:"text",name:"name",placeholder:"First Name"},domProps:{value:e.user.firstName},on:{input:function(t){t.target.composing||e.$set(e.user,"firstName",t.target.value)}}})])]),s("div",{staticClass:"col_half"},[s("div",{staticClass:"input_field"},[e._m(6),s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.lastName,expression:"user.lastName"}],attrs:{type:"text",name:"name",placeholder:"Last Name",required:""},domProps:{value:e.user.lastName},on:{input:function(t){t.target.composing||e.$set(e.user,"lastName",t.target.value)}}})])])]),e._m(7),s("input",{staticClass:"button",attrs:{type:"submit",value:"Register"},on:{click:function(t){t.preventDefault(),e.registerUser()}}}),s("h3",{staticClass:"red"},[e._v(e._s(e.message))]),s("router-link",{staticClass:"toLogin",attrs:{to:"login"}},[e._v("I already have an account!")])],1)])])])])},_t=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"title_container"},[s("h2",[e._v("Sign up form")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("span",[s("i",{staticClass:"fas fa-user",attrs:{"aria-hidden":"true"}})])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("span",[s("i",{staticClass:"fa fa-envelope",attrs:{"aria-hidden":"true"}})])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("span",[s("i",{staticClass:"fa fa-lock",attrs:{"aria-hidden":"true"}})])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("span",[s("i",{staticClass:"fa fa-lock",attrs:{"aria-hidden":"true"}})])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("span",[s("i",{staticClass:"fa fa-user",attrs:{"aria-hidden":"true"}})])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("span",[s("i",{staticClass:"fa fa-user",attrs:{"aria-hidden":"true"}})])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"input_field select_option"},[s("div",{staticClass:"select_arrow"})])}],Ut={name:"register",data:function(){return{user:{userName:"",email:"",password:"",firstName:"",lastName:""},password2:null,message:null}},methods:{registerUser:function(){var e=this;this.passwordNotValidated||this.$store.dispatch({type:"registerNewUser",user:this.user}).then(function(t){"success"===t.message?e.$router.push({name:"login",query:{success:"new-user"}}):e.message=t.message})}},computed:{passwordNotValidated:function(){return this.user.password&&this.password2&&this.user.password!==this.password2}}},Ct=Ut,yt=(s("dc3d"),Object(m["a"])(Ct,wt,_t,!1,null,"21e19200",null)),bt=yt.exports;i["default"].use(A["a"]);var kt=new A["a"]({routes:[{path:"/user/:userName/:image?",name:"user-profile",component:Pe},{path:"/edit/:userName",name:"edit-user-details",component:De},{path:"/login",name:"login",component:rt},{path:"/search/:type/:keyword/:image?",name:"searh-results-page",component:It},{path:"/register",name:"register",component:bt},{path:"/:image?",name:"home",component:Ce},{path:"/about",name:"about",component:function(){return s.e("about").then(s.bind(null,"f820"))}}]}),$t=s("2f62"),jt={state:{visitedUser:null,loggedInUser:null,searchedUsers:null},getters:{visitedUser:function(e){return e.visitedUser},loggedInUser:function(e){return e.loggedInUser},searchedUsers:function(e){return e.searchedUsers}},mutations:{updateUsers:function(e,t){var s=t.users,i=t.followeeId;e.loggedInUser=s[1].value,e.visitedUser&&e.visitedUser._id===i&&(e.visitedUser=s[0].value)},setLoggedInUser:function(e,t){var s=t.user;e.loggedInUser=s},updateLoggedInUser:function(e,t){var s=t.user;console.log("updateloggedinUser",s),e.loggedInUser=s},setVisitedUser:function(e,t){var s=t.user;e.visitedUser=s},setSeachedUsers:function(e,t){var s=t.users;e.searchedUsers=s}},actions:{updateLoggedInUserTemp:function(e,t){var s=t.detailToUpdate,i=t.detail,a=e.state.loggedInUser;a[s]=i,a&&e.commit({type:"updateLoggedInUser",user:a})},registerNewUser:function(e,t){var s=t.user;return it.createNewUser(s)},getUserNamesById:function(e,t){var s=t.ids;return it.getUserNamesById(s).then(function(t){return e.commit({type:"setLoggedInUser",user:t.loggedInUser}),t.users})},setVisitedUser:function(e,t){e.commit({type:"setVisitedUser",user:t})},getVisitedUser:function(e,t){var s=t.userName;return it.getUserByUsername(s).then(function(t){return e.commit({type:"setVisitedUser",user:t.user}),e.commit({type:"setLoggedInUser",user:t.loggedInUser}),t.user})},getUserById:function(e,t){var s=t.userId;return it.getUserById(s).then(function(t){return e.commit({type:"setLoggedInUser",user:t.loggedInUser}),t.user})},getUserByUsername:function(e,t){var s=t.userName;return it.getUserByUsername(s).then(function(t){return e.commit({type:"setLoggedInUser",user:t.loggedInUser}),t.user})},addFollowers:function(e,t){var s=t.followeeId;return it.addFollowers(s,e.state.loggedInUser._id).then(function(t){return e.commit({type:"updateUsers",users:t.users,followeeId:s}),t.users})},removeFollowers:function(e,t){var s=t.followeeId;return it.removeFollowers(s,e.state.loggedInUser._id).then(function(t){return e.commit({type:"updateUsers",users:t.users,followeeId:s}),t.users})},addToUserFavorites:function(e,t){var s=t.imageId;return it.addToUserFavorites(s,e.state.loggedInUser._id).then(function(t){return e.commit({type:"updateLoggedInUser",user:t.user.value}),t})},removeFromUserFavorites:function(e,t){var s=t.imageId;return it.removeFromUserFavorites(s,e.state.loggedInUser._id).then(function(t){return e.commit({type:"updateLoggedInUser",user:t.user.value}),t})},updateUserDetails:function(e,t){var s=t.userDetails;it.updateUserDetails(s).then(function(t){return e.commit({type:"updateLoggedInUser",user:t.value}),t.value})},findRelevantUsers:function(e,t){var s=t.keyword;it.findRelevantUsers(s).then(function(t){e.commit({type:"setSeachedUsers",users:t.users}),e.commit({type:"setLoggedInUser",user:t.loggedInUser})})},logout:function(e){e.commit({type:"setLoggedInUser",user:null})},getLoggedInUser:function(e){it.getLoggedInUser().then(function(t){return e.commit({type:"setLoggedInUser",user:t.loggedInUser}),t.loggedInUser})}}},Ft=(s("ac6a"),s("0a0d")),Nt=s.n(Ft),Lt=s("75fc"),Tt="/image";function Ot(e){return H.a.get("".concat(Tt,"/image/").concat(e)).then(function(e){return e.data})}function xt(e){return H.a.get("".concat(Tt,"/images/").concat(e)).then(function(e){return e.data})}function Pt(e,t,s){return H.a.put("".concat(Tt,"/").concat(t,"/comment"),{comment:e,imageId:t,writerId:s}).then(function(e){return e.data})}function Mt(e,t,s){return H.a.put("".concat(Tt,"/").concat(t,"/").concat(e,"/edit"),{newComment:s}).then(function(e){return e.data})}function Et(e,t){return H.a.put("".concat(Tt,"/").concat(t,"/").concat(e,"/deleteComment")).then(function(e){return e.data})}function Vt(e,t){return H.a.put("".concat(Tt,"/").concat(e,"/likes"),{imageId:e,userId:t}).then(function(e){return e.data})}function Bt(e,t){return H.a.delete("".concat(Tt,"/").concat(e,"/").concat(t,"/likes")).then(function(e){return e.data})}function St(){return H.a.get("".concat(Tt,"/initalFeedImages")).then(function(e){return e.data})}function Dt(e,t){return H.a.post("".concat(Tt,"/").concat(e,"/additionalFeedImages"),{currFeedImages:t}).then(function(e){return e.data})}function At(e,t){return H.a.get("".concat(Tt,"/").concat(e,"/").concat(t,"/additionalUserImages"),{currFeedImages:currFeedImages}).then(function(e){return e.data})}function Rt(e){return H.a.get("".concat(Tt,"/").concat(e,"/explore")).then(function(e){return e.data})}function zt(e){return H.a.get("".concat(Tt,"/").concat(e,"/search")).then(function(e){return e.data})}function Wt(e,t){return H.a.post("".concat(Tt,"/newImage"),{imgDetails:e,image:t}).then(function(e){return e.data})}var Ht={getUserImages:xt,getImageById:Ot,addUserComment:Pt,addUserLike:Vt,removeUserLike:Bt,addImage:Wt,getInitalImages:St,getAdditionalImages:Dt,getImagesByLocation:Rt,getImagesByHashtag:zt,additionalUserImages:At,deleteComment:Et,editComment:Mt},qt="dtvk88yvj",Kt={uploadSample:Gt,uploadImg:Jt};function Gt(e){var t="https://api.cloudinary.com/v1_1/".concat(qt,"/video/upload"),s=new FormData;return s.append("file",e[0].files[0]),s.append("upload_preset","zbj5g7nm"),fetch(t,{method:"POST",body:s}).then(function(e){return e.json()}).catch(function(e){console.error(e)})}function Jt(e){var t="https://api.cloudinary.com/v1_1/".concat(qt,"/image/upload"),s=new FormData;return s.append("file",e[0].files[0]),s.append("upload_preset","zbj5g7nm"),fetch(t,{method:"POST",body:s}).then(function(e){return e.json()}).catch(function(e){console.error("this is an error ariella",e)})}var Yt={state:{isLoading:!1,visitedUserImages:null,viewedImage:null,viewedImageOwner:null,userFavoriteImages:[],imagesForFeed:[],isConnected:!1,isTyping:null,followeesThatLiked:[],viewedImageCollection:[]},getters:Object(Y["a"])({viewedImageCollection:function(e){return e.viewedImageCollection},followeesThatLiked:function(e){return e.followeesThatLiked},isTyping:function(e){return e.isTyping},visitedUserImages:function(e){return e.visitedUserImages},isLoading:function(e){return e.isLoading},viewedImage:function(e){return e.viewedImage},viewedImageOwner:function(e){return e.viewedImageOwner},userFavoriteImages:function(e){return e.userFavoriteImages},imagesForFeed:function(e){return e.imagesForFeed},viewedImageComments:function(e){return e.viewedImageComments}},"viewedImage",function(e){return e.viewedImage}),mutations:{setFolloweesThatLiked:function(e,t){var s=t.users;e.followeesThatLiked=s},setViewedImageCollection:function(e,t){var s=t.images;e.viewedImageCollection=s},setVisitedUserImages:function(e,t){var s=t.images;e.visitedUserImages=s},setAdditionalUserImages:function(e,t){var s,i=t.res,a=e.visitedUserImages.length;(s=e.visitedUserImages).splice.apply(s,[a,0].concat(Object(Lt["a"])(i)))},setViewedImage:function(e,t){var s=t.image;e.viewedImage=s},updateViewedImage:function(e,t){var s=t.image;e.viewedImage&&(e.viewedImage=s)},setVisitedImageOwner:function(e,t){var s=t.user;e.viewedImageOwner=s},setUserFavoriteImages:function(e,t){var s=t.images;e.userFavoriteImages=s},setInitalImages:function(e,t){var s=t.images;e.imagesForFeed=s},setAddionalImages:function(e,t){var s=t.images;e.imagesForFeed=e.imagesForFeed.concat(s)},SOCKET_CONNECT:function(e){e.isConnected=!0},SOCKET_DISCONNECT:function(e){e.isConnected=!1},SOCKET_commentAdded:function(e,t){e.isTyping=null;var s=e.viewedImage,i=t.image.comments,a=i.findIndex(function(e){return e.id===t.comment.id});-1===a&&i.splice(i.length,0,t.comment),s&&s._id===t.image._id&&(e.viewedImage.comments=i),a=e.imagesForFeed.findIndex(function(e){return e._id===t.image._id}),a>=0&&(e.imagesForFeed[a].comments=i)},SOCKET_commentEdited:function(e,t){var s=e.viewedImage,i=t.image.comments,a=i.findIndex(function(e){return e.id===t.commentId});if(a>-1){var n=i[a];n.comment=t.newComment,n.timeStamp=Nt()(),i.splice(a,1,n)}s&&s._id===t.image._id&&(e.viewedImage.comments=i),a=e.imagesForFeed.findIndex(function(e){return e._id===t.image._id}),a>=0&&(e.imagesForFeed[a].comments=i)},SOCKET_commentDeleted:function(e,t){var s=e.viewedImage,i=t.image.comments,a=i.findIndex(function(e){return e.id===t.commentId});a>-1&&i.splice(a,1),s&&s._id===t.image._id&&(e.viewedImage.comments=i),a=e.imagesForFeed.findIndex(function(e){return e._id===t.image._id}),a>=0&&(e.imagesForFeed[a].comments=i)},SOCKET_typing:function(e,t){var s=e.viewedImage;s._id===t.imageId&&(e.isTyping=t.userName)},SOCKET_likeAdded:function(e,t){var s=e.viewedImage,i=t.image.likes,a=t.user,n=e.followeesThatLiked;if(-1===i.findIndex(function(e){return e===a._id})&&i.splice(0,0,a._id),s&&s._id===t.image._id){e.viewedImage.likes=i;var o=n.findIndex(function(e){return e===a.userName});-1===o&&e.followeesThatLiked.splice(0,0,a.userName)}o=e.imagesForFeed.findIndex(function(e){return e._id===t.image._id}),o>=0&&(e.imagesForFeed[o].likes=i)},SOCKET_likeRemoved:function(e,t){var s=e.viewedImage,i=t.image.likes,a=t.user,n=e.followeesThatLiked;if(o=i.findIndex(function(e){return e===a._id}),-1!==o&&i.splice(o,1),s&&s._id===t.image._id){e.viewedImage.likes=i;var o=n.findIndex(function(e){return e===a.userName||"You"===e});o>-1&&e.followeesThatLiked.splice(o,1)}o=e.imagesForFeed.findIndex(function(e){return e._id===t.image._id}),o>=0&&(e.imagesForFeed[o].likes=i)}},actions:{getViewedImageFollowers:function(e,t){var s=t.image,i=t.loggedInUser,a=i.followees,n=[];return a.forEach(function(e){-1!==s.likes.findIndex(function(t){return t===e})&&n.push(e)}),s.likes.findIndex(function(e){return e===i._id})>-1&&-1===n.findIndex(function(e){return e===i._id})&&n.splice(0,0,i._id),0===n.length?(e.commit({type:"setFolloweesThatLiked",users:[]}),[]):it.getUserNamesById(n).then(function(t){var s=[];return t.users.forEach(function(e){e.userName===i.userName?s.unshift(i.userName):s.push(e.userName)}),e.commit({type:"setFolloweesThatLiked",users:s}),s})},getVisitedUserImages:function(e,t){var s=t.userId;return e.commit({type:"setIsLoading",isLoading:!0}),e.commit({type:"setViewedImageCollection",images:null}),Ht.getUserImages(s).then(function(t){return e.commit({type:"setIsLoading",isLoading:!1}),e.commit({type:"setViewedImageCollection",images:t.images}),e.rootState.userModule.loggedInUser=t.loggedInUser,t.images})},getViewedImageOwner:function(e,t){var s=t.userId;return it.getUserById(s).then(function(t){e.commit({type:"setVisitedImageOwner",user:t.user}),e.rootState.userModule.loggedInUser=t.loggedInUser})},setViewedImage:function(e,t){var s=t.image;return e.commit({type:"setViewedImage",image:s}),s},getCloudinaryPicUrl:function(e,t){var s=t.elForm;return Kt.uploadImg(s).then(function(e){return e.url})},deleteComment:function(e,t){var s=t.commentId,i=t.imageId;return Ht.deleteComment(s,i).then(function(t){return e.commit({type:"updateViewedImage",image:t.image.value}),e.rootState.userModule.loggedInUser=t.loggedInUser,t.image.value.comments})},addUserComment:function(e,t){var s=t.comment,i=t.imageId,a=t.writerId;return Ht.addUserComment(s,i,a).then(function(t){return e.commit({type:"updateViewedImage",image:t.image.value}),e.rootState.userModule.loggedInUser=t.loggedInUser,t.image.value.comments})},editComment:function(e,t){var s=t.commentId,i=t.imageId,a=t.newComment;return Ht.editComment(s,i,a).then(function(t){return e.commit({type:"updateViewedImage",image:t.image.value}),e.rootState.userModule.loggedInUser=t.loggedInUser,t.image.value.comments})},getUserFavoriteImages:function(e,t){var s=t.userId;return e.commit({type:"setIsLoading",isLoading:!0}),e.commit({type:"setViewedImageCollection",images:null}),it.getImagesByImageId(s).then(function(t){return e.commit({type:"setViewedImageCollection",images:t.images}),e.commit({type:"setIsLoading",isLoading:!1}),e.rootState.userModule.loggedInUser=t.loggedInUser,t.images})},addUserLike:function(e,t){var s=t.imageId,i=t.userId;return Ht.addUserLike(s,i).then(function(t){return e.commit({type:"updateViewedImage",image:t.image.value}),t.image.value.likes})},removeUserLike:function(e,t){var s=t.imageId,i=t.userId;return Ht.removeUserLike(s,i).then(function(t){return e.commit({type:"updateViewedImage",image:t.image.value}),t.image.value.likes})},addImage:function(e,t){var s=t.imgDetails,i=t.image;return s.ownerId=e.rootState.userModule.loggedInUser._id,Ht.addImage(s,i)},getInitalImages:function(e){return Ht.getInitalImages().then(function(t){e.commit({type:"setInitalImages",images:t.images}),e.rootState.userModule.loggedInUser=t.loggedInUser})},getAdditionalImages:function(e){var t=e.state.imagesForFeed,s=0;return 0!==t.length&&(s=t[t.length-1]._id),Ht.getAdditionalImages(s,t).then(function(t){e.commit({type:"setAddionalImages",images:t.images}),e.rootState.userModule.loggedInUser=t.loggedInUser})},getImagesByLocation:function(e,t){var s=t.location;return e.commit({type:"setIsLoading",isLoading:!0}),e.commit({type:"setViewedImageCollection",images:null}),Ht.getImagesByLocation(s).then(function(t){return e.commit({type:"setIsLoading",isLoading:!1}),e.commit({type:"setViewedImageCollection",images:t.images}),e.rootState.userModule.loggedInUser=t.loggedInUser,t.images})},getImagesByHashtag:function(e,t){var s=t.hashtag;return e.commit({type:"setIsLoading",isLoading:!0}),e.commit({type:"setViewedImageCollection",images:null}),Ht.getImagesByHashtag(s).then(function(t){return e.commit({type:"setIsLoading",isLoading:!1}),e.commit({type:"setViewedImageCollection",images:t.images}),e.rootState.userModule.loggedInUser=t.loggedInUser,t.images})},getImageById:function(e,t){var s=t.imageId;return Ht.getImageById(s).then(function(t){return e.rootState.userModule.loggedInUser=t.loggedInUser,t.image})}}};i["default"].use($t["a"]);var Qt=new $t["a"].Store({strict:!0,modules:{userModule:jt,imageModule:Yt}}),Xt=Qt,Zt=s("9483");Object(Zt["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});s("c1c3");var es=s("8055"),ts=s.n(es),ss=s("5132"),is=s.n(ss),as=s("5299"),ns=ts()("/");i["default"].use(as),i["default"].use(new is.a({debug:!0,connection:ns,vuex:{store:Xt,actionPrefix:"SOCKET_",mutationPrefix:"SOCKET_"},options:{path:"/socket.io"}})),i["default"].prototype.moment=K.a,i["default"].config.productionTip=!1,new i["default"]({router:kt,store:Xt,render:function(e){return e(D)}}).$mount("#app")},"60b5":function(e,t,s){"use strict";var i=s("d6d2"),a=s.n(i);a.a},6346:function(e,t,s){"use strict";var i=s("e722"),a=s.n(i);a.a},6638:function(e,t,s){"use strict";var i=s("08bc"),a=s.n(i);a.a},"71fc":function(e,t,s){"use strict";var i=s("b552"),a=s.n(i);a.a},"8e1b":function(e,t,s){"use strict";var i=s("c9f5"),a=s.n(i);a.a},b552:function(e,t,s){},c1c3:function(e,t,s){},c9f5:function(e,t,s){},cc43:function(e,t,s){"use strict";var i=s("e4c0"),a=s.n(i);a.a},d512:function(e,t,s){"use strict";var i=s("3b03"),a=s.n(i);a.a},d574:function(e,t,s){"use strict";var i=s("04a8"),a=s.n(i);a.a},d6d2:function(e,t,s){},dc3d:function(e,t,s){"use strict";var i=s("102d"),a=s.n(i);a.a},e1fb:function(e,t,s){},e4c0:function(e,t,s){},e722:function(e,t,s){},f763:function(e,t,s){},fe98:function(e,t,s){"use strict";var i=s("f763"),a=s.n(i);a.a}});
//# sourceMappingURL=app.0fed4c43.js.map